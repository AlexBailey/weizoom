{% verbatim %}
<script id="select-link-target-dialog-tmpl-src" type="text/x-jquery-tmpl">
    <div class="modal hide fade" style="width: 600px">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>选择链接目标</h3>
        </div>
        <div class="modal-body clearfix">
            <table style="width: 100%;">
                <tr>
                    <td>
                        <label>项目：
                            <select name="workspace" class="input-medium">
                                <option value="0">加载项目...</option>
                            </select>
                        </label>
                    </td>
                    <td>
                        <label>数据类：
                            <select name="data_category" class="input-medium">
                            </select>
                        </label>
                    </td>
                </tr>
            </table>
            <legend>数据：</legend>
            <div class="x-dataContent ml20">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-success btn-submit">确定</button>
        </div>
    </div>
</script>
{% endverbatim %}
<script type="text/javascript" src="/termite_static/js/termite/dialog/select_link_target/dialog.js"></script>
<script type="text/javascript">
    function selectLinkTarget() {
        var inputName = $('#selectTermiteLinkTargetButton').attr('data-input');
        var $urlInput = $('[name="'+inputName+'"]');
        var $linkTargetInput = $('[name="link_target"]');
        var $displayValueInput = $('[name="'+inputName+'DisplayValue"]');
        var currentLinkTarget = $linkTargetInput.data('link_target');
        W.dialog.showDialog('W.dialog.workbench.SelectLinkTargetDialog', {
            currentLinkTarget: currentLinkTarget,
            success: function(data) {
                var linkTarget = $.parseJSON(data);
                $urlInput.val(linkTarget.data).trigger('input');
                $linkTargetInput.val(data).trigger('input');
                $displayValueInput.val(linkTarget.data_path);
            }
        });
    }
</script>